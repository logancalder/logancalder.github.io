<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="with=device-width, initial-scale=1.0">
    <title>LC - H4H 2025</title>
    <link rel="stylesheet" href="style-project-page.css">
    <link rel="stylesheet" type="text/css" href="../../lightbox.css">
    <script src="https://kit.fontawesome.com/92c2b5b560.js" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="../../images/lc.png">
</head>

<script>
        document.addEventListener('scroll', () => {
            const header = document.querySelector('.nav-bar');
            const content = document.querySelector('.content');
            const projects = document.querySelector('.projects');

            let num = window.scrollY / window.innerHeight;
            if(num > 0){
                header.classList.add('scrolled');
                content.classList.add('scrolled');
                projects.classList.add('scrolled');
            }else{
                header.classList.remove('scrolled');
                content.classList.remove('scrolled');
                projects.classList.remove('scrolled');
            }
            });
        function select(category) {
            var all = document.getElementsByClassName('project');
            var personal = document.getElementsByClassName('personal');
            var work = document.getElementsByClassName('work');
            
            if (category == "all") {
                for (var i = 0; i < all.length; i++) {
                    all[i].style.display = "block";
                }
            } else if (category == "work") {
                for (var i = 0; i < personal.length; i++) {
                    personal[i].style.display = "none";
                }
                for (var i = 0; i < work.length; i++) {
                    work[i].style.display = "block";
                }
            } else {
                for (var i = 0; i < personal.length; i++) {
                    personal[i].style.display = "block";
                }
                for (var i = 0; i < work.length; i++) {
                    work[i].style.display = "none";
                }
            }
        };
        function toggleNavBar() {
        var element = document.getElementById("mobile-nav-bar");
        console.log(element);
        element.classList.toggle("fade");
    };
</script>
<script src="../../lightbox-plus-jquery.js"></script>

<input type="file" id="fileInput" style="display: none;">

<!-- make fireflies for hannah to play with :") -->

<body>
    <div class="nav-bar">
        <a href="../home"><img class="logo" src="../../images/lc.png" alt="logo"></a>
        <nav class="nav">
            <ul>
                <li class="nav-button"><a href="../home">Home</a></li>
                <li class="nav-button"><a href="../about">About</a></li>
                <li class="nav-button"><a href="../projects">Projects</a></li>
                <li class="nav-button"><a href="../tutor">Tutor</a></li>
                <li class="lang-button"><a href="../../es/projects/treehacks">Español</a></li>
            </ul>
        </nav>
        <div onclick = "toggleNavBar()" class = "nav-menu-container">
            <i class="fa-solid fa-bars" id = "nav-menu-button"></i>
        </div>
    </div>

    <div id = "mobile-nav-bar">
        <ul>
            <li class="nav-button"><a href="../home">Home</a></li>
            <li class="nav-button"><a href="../about">About</a></li>
            <li class="nav-button"><a href="../projects">Projects</a></li>
            <li class="nav-button"><a href="../tutor">Tutor</a></li>
            <li class="lang-button"><a href="../../es/projects/h4h">Español</a></li>
        </ul>
    </div>
    
    <div class = "header">
        <img src="../../images/projects/banners/lmkbanner.jpg" id="header">
    </div>

    <div class="content">
        <div id="project-content">
            <!-- Content will be dynamically loaded here -->
        </div>
    </div>

    <div class="gallery">
        <div class="container" id="gallery-container">
            <!-- Images will be dynamically loaded here -->
        </div>
    </div>

    <script type="module">
        import { supabase } from '../../lib/supabaseClient.js';

        async function loadProject() {
            try {
                const { data: project, error } = await supabase
                    .from('projects')
                    .select('*')
                    .eq('title', 'H4H 2025')
                    .single();

                if (error) throw error;

                // Update content
                const content = document.getElementById('project-content');
                content.innerHTML = `
                    <h2 class="research">I had the pleasure of competing in SCU's <span id="r">${project.title}</span>.</h2>
                    <p>${project.description}</p>
                    ${project.github_url ? `<p>This project's source code is public and viewable <a id="r" href="${project.github_url}">here</a>` : ''}
                    ${project.devpost_url ? `, our Devpost <a id="r" href="${project.devpost_url}">here</a>` : ''}
                    ${project.demo_url ? ` and deployment <a id="r" href="${project.demo_url}">here</a>.</p>` : ''}
                `;

                // Update gallery
                const gallery = document.getElementById('gallery-container');
                gallery.innerHTML = project.gallery_images.map(img => `
                    <div class="photo">
                        <a href="${img}" data-lightbox="models" class="imagecrop">
                            <img src="${img}" id="post-img">
                        </a>
                    </div>
                `).join('');

            } catch (error) {
                console.error('Error loading project:', error);
            }
        }

        // Load project when page loads
        document.addEventListener('DOMContentLoaded', loadProject);
    </script>

    <div class = "footer">
        Made with <span style = "color: white;font-weight: bold;">♥</span> by Logan C
    </div>
</body>
</html>